<div class="lab-page">
    <div>
        <app-countdown *ngIf="lab" [endTime]="takenUntil"></app-countdown>
    </div>
    <mat-card class="lab-camera">
        <mat-card-header>
            <mat-card-title>Camera</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <app-camera [cameraUrl]="cameraUrl"></app-camera>
        </mat-card-content>
    </mat-card>
    <mat-card class="lab-control-panel">
        <mat-card-header>
            <mat-card-title>1. Control panel</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="control-buttons">
                <div>
                    <button class="button" mat-raised-button (click)="rotateClockwise()">Rotate clockwise</button>
                    <button class="button" mat-raised-button (click)="rotateCounterClockwise()">Rotate counter-clockwise</button>
                </div>
                <div>
                    <button class="button" mat-raised-button (click)="laserOn()">Turn laser on</button>
                    <button class="button" mat-raised-button (click)="laserOff()">Turn laser off</button>
                </div>
                <div>
                    <button class="button" mat-raised-button (click)="driverOn()">Turn driver on</button>
                    <button class="button" mat-raised-button (click)="driverOff()">Turn driver off</button>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
    <mat-card class="lab-start-measurement">
        <mat-card-header>
            <mat-card-title>2. Start measurement</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <app-start-stop-measurement-button (measurementStartedEvent)="getMeasurementStarted($event)">
            </app-start-stop-measurement-button>
        </mat-card-content>
    </mat-card>
    <mat-card class="lab-save-results">
        <mat-card-header>
            <mat-card-title>4. Save results</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <app-save-measurement [labId]="lab?.id" [measurementResult]="measurementResult"> </app-save-measurement>
        </mat-card-content>
    </mat-card>
    <mat-card class="lab-stop-measurements">
        <mat-card-header>
            <mat-card-title>5. Stop measurement</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <app-free-lab-button [bookingId]="booking?.id"></app-free-lab-button>
        </mat-card-content>
    </mat-card>
</div>