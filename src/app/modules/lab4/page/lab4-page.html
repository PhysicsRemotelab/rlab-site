<div class='lab-page'>
    <div>
        <app-countdown *ngIf="lab" [endTime]="takenUntil"></app-countdown>
    </div>
    <mat-card class='lab-camera'>
        <mat-card-header>
            <mat-card-title>Camera</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <canvas width='320' height='240' id='canvas'></canvas>
        </mat-card-content>
    </mat-card>
    <mat-card class='lab-introduction'>
        <mat-card class='lab-control-item'>
            <mat-card-header>
                <mat-card-title>1. Introduction</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                Please start measurement, monitor result and stop measurements when finished.
            </mat-card-content>
        </mat-card>
        <mat-card class='lab-start-measurement'>
            <mat-card-header>
                <mat-card-title>2. Start measurement</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <app-start-stop-measurement-button
                    (measurementStartedEvent)="getMeasurementStarted($event)">
                </app-start-stop-measurement-button>
            </mat-card-content>
        </mat-card>
        <mat-card class='lab-monitor-results'>
            <mat-card-header>
                <mat-card-title>3. Monitor results</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div>
                    Here you can see results that have been measured.
                </div>
                <br>
               <app-temperature-plot
                    [selectedSensor]="selectedSensor"
                    [sensorUrl]="sensorUrl"
                    [measurementStarted]="measurementStarted"
                    (measurementDataEvent)="getData($event)"
                    (stopEvent)="stopEvent()"
                    (startEvent)="startEvent()"
                ></app-temperature-plot>
            </mat-card-content>
        </mat-card>
        <mat-card class='lab-save-results'>
            <mat-card-header>
                <mat-card-title>4. Save results</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <app-save-measurement
                    [labId]="lab?.id"
                    [measurementResult]="measurementResult">
                </app-save-measurement>
            </mat-card-content>
        </mat-card>
        <mat-card class='lab-stop-measurements'>
            <mat-card-header>
                <mat-card-title>5. Stop measurement</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <app-free-lab-button [labId]="lab?.id"></app-free-lab-button>
            </mat-card-content>
        </mat-card>
    </mat-card>
</div>